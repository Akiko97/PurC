# test cases for $SQLITE

# $SQLITE.impl and $SQLITE.info
positive:
    $SQLITE.impl.vendor
    'HVML Community'

positive:
    $SQLITE.impl.author
    'Nine Xue'

positive:
    $SQLITE.impl.license
    'LGPLv3+'

positive:
    $SQLITE.impl.url
    'https://hvml.fmsoft.cn'

positive:
    $SQLITE.impl.repo
    'https://github.com/HVML'


# \$SQLITE.connect memory
positive:
    $RUNNER.user(! 'sqliteConn', $SQLITE.connect(':memory:'))
    true

positive:
    $RUNNER.myObj.sqliteConn.close()
    true

# \$SQLITE.connect  path
positive:
    $RUNNER.user(! 'sqliteConn', undefined )
    true

positive:
    $RUNNER.user(! 'sqliteConn', $SQLITE.connect('/tmp/test_extdvobj_sqlite.db'))
    true

positive:
    $RUNNER.myObj.sqliteConn.close()
    true

positive:
    $RUNNER.user(! 'sqliteConn', undefined )
    true

positive:
    $FS.unlink('/tmp/test_extdvobj_sqlite.db')
    true

# \$SQLITE.connect  URI
positive:
    $RUNNER.user(! 'sqliteConn', $SQLITE.connect('file:///tmp/test_extdvobj_sqlite_uri.db'))
    true

positive:
    $RUNNER.myObj.sqliteConn.close()
    true

positive:
    $RUNNER.user(! 'sqliteConn', undefined )
    true

positive:
    $FS.unlink('/tmp/test_extdvobj_sqlite_uri.db')
    true

negative:
    $SQLITE.connect
    ArgumentMissed

negative:
    $SQLITE.connect(1)
    WrongDataType

negative:
    $SQLITE.connect(true)
    WrongDataType

negative:
    $SQLITE.connect({})
    WrongDataType

negative:
    $SQLITE.connect([])
    WrongDataType

negative:
    $SQLITE.connect(2.0)
    WrongDataType

negative:
    $SQLITE.connect('')
    InvalidValue

