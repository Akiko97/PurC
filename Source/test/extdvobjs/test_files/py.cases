# test cases for $PY

# $PY.impl and $PY.info
positive:
    $PY.impl.vendor
    'HVML Community'

positive:
    $PY.impl.author
    'Vincent Wei'

positive:
    $PY.impl.license
    'LGPLv3+'

positive:
    $PY.except
    null

# $PY.run
positive:
    {{ $PY.run('2 / 0'); $PY.except }}
    'ZeroDivisionError'

negative:
    $PY.run
    ArgumentMissed

negative:
    $PY.run('asdfasfd', 'file');
    IOFailure

negative:
    $PY.run('asdfasfd', 'module');
    SysFault

positive:
    $PY.run('print("Hello from Python")')
    null

positive:
    $PY.run('pow(2,2)')
    4L

positive:
    $PY.run('3.14 * 2')
    6.28

# $PY.global
negative:
    $PY.global(5.0)
    WrongDataType

negative:
    $PY.global('foo-bar')
    BadName

negative:
    $PY.global('foo')
    NoSuchKey

negative:
    $PY.global(! 5.0)
    WrongDataType

negative:
    $PY.global(! 5.0, 'asfsad')
    WrongDataType

negative:
    $PY.global(!'foo-bar', 5)
    BadName

negative:
    $PY.global(!'x')
    WrongDataType

positive:
    $PY.global(!'x', 5.0)
    true

positive:
    $PY.global('x')
    5.0

positive:
    $PY.global.x
    5.0

positive:
    $PY.global.x(! 5.0 )
    true

negative:
    $PY.global.y
    NoSuchKey

positive:
    $PY.run('x * 2')
    10.0

positive:
    $PY.global(! 'x', undefined )
    true

negative:
    $PY.global( 'x' )
    NoSuchKey

positive:
    $PY.global(!'x', 10.0)
    true

positive:
    $PY.local(!'x', 6.0)
    true

positive:
    $PY.run('x * 2')
    12.0

positive:
    $PY.local(!'x', undefined)
    true

positive:
    $PY.run('x * 2')
    20.0

